<!-- {% extends 'base.html' %}

{% block content %}
  <h2>Upload a File</h2>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <label for="id_file_type">File type:</label>
    <select name="file_type" id="id_file_type">
        <option value="csv">CSV</option>
        <option value="json">JSON</option>
        <option value="image">Image</option>
    </select>
    <button type="submit">Upload</button>
</form>
{% endblock %} -->

{% extends 'base.html' %}

{% block content %}
  <h2>Upload File</h2>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="source">Select source:</label>
    <select name="source" id="source">
      <option value="local">Local</option>
      <option value="url">URL</option>
    </select><br><br>

    <div id="local-file" style="display:none;">
      <label for="file">Choose file:</label>
      <input type="file" name="file" id="file"><br><br>
      <label for="id_file_type">Select file type:</label>
      <select name="file_type" id="id_file_type">
        <option value="csv">CSV</option>
        <option value="json">JSON</option>
        <option value="image">Image</option>
      </select><br><br>
    </div>

    <div id="url-file" style="display:none;">
      <label for="url">Enter URL:</label>
      <input type="text" name="url" id="url"><br><br>
      <label for="id_file_type">Select file type:</label>
      <select name="file_type" id="id_file_type">
        <option value="NOSQL">NOSQL</option>
        <option value="SQL">SQL</option>
      </select><br><br>
    </div>

    <input type="submit" value="Upload">
  </form>

  <script>
    document.getElementById("source").addEventListener("change", function () {
      var localFile = document.getElementById("local-file");
      var urlFile = document.getElementById("url-file");

      if (this.value == "local") {
        localFile.style.display = "block";
        urlFile.style.display = "none";
      } else {
        localFile.style.display = "none";
        urlFile.style.display = "block";
      }
    });
  </script>
{% endblock %}
